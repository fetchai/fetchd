syntax = "proto3";

package fetchai.group.v1alpha1;

import "fetchai/group/v1alpha1/types.proto";
import "google/api/annotations.proto";
import "gogoproto/gogo.proto";
import "cosmos/base/query/v1beta1/pagination.proto";

option go_package = "github.com/fetchai/fetchd/x/group";

// Query is the regen.group.v1alpha1 Query service.
service Query {

  // GroupInfo queries group info based on group id.
  rpc GroupInfo(QueryGroupInfoRequest) returns (QueryGroupInfoResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/groups/{group_id}/info";
  }

  // GroupAccountInfo queries group account info based on group account address.
  rpc GroupAccountInfo(QueryGroupAccountInfoRequest) returns (QueryGroupAccountInfoResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/groups/accounts/{address}";
  }
  // GroupMembers queries members of a group
  rpc GroupMembers(QueryGroupMembersRequest) returns (QueryGroupMembersResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/groups/{group_id}/members";
  }

  // GroupsByAdmin queries groups by admin address.
  rpc GroupsByAdmin(QueryGroupsByAdminRequest) returns (QueryGroupsByAdminResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/groups/admins/{admin}";
  }

  // GroupAccountsByGroup queries group accounts by group id.
  rpc GroupAccountsByGroup(QueryGroupAccountsByGroupRequest) returns (QueryGroupAccountsByGroupResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/groups/{group_id}/accounts";
  }
  
  // GroupsByAdmin queries group accounts by admin address.
  rpc GroupAccountsByAdmin(QueryGroupAccountsByAdminRequest) returns (QueryGroupAccountsByAdminResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/admins/{admin}/accounts";
  }
  
  // Proposal queries a proposal based on proposal id.
  rpc Proposal(QueryProposalRequest) returns (QueryProposalResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/proposals/{proposal_id}";
  }

  // ProposalsByGroupAccount queries proposals based on group account address.
  rpc ProposalsByGroupAccount(QueryProposalsByGroupAccountRequest) returns (QueryProposalsByGroupAccountResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/group-accounts/{address}/proposals";
  }
  
  // VoteByProposalVoter queries a vote by proposal id and voter.
  rpc VoteByProposalVoter(QueryVoteByProposalVoterRequest) returns (QueryVoteByProposalVoterResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/proposals/{proposal_id}/votes/{voter}";
  }

  // VotesByProposal queries a vote by proposal.
  rpc VotesByProposal(QueryVotesByProposalRequest) returns (QueryVotesByProposalResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/proposals/{proposal_id}/votes";
  }

  // VotesByVoter queries a vote by voter.
  rpc VotesByVoter(QueryVotesByVoterRequest) returns (QueryVotesByVoterResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/voters/{voter}";
  }

  // Poll queries a poll based on poll id.
  rpc Poll(QueryPollRequest) returns (QueryPollResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/polls/{poll_id}";
  }

  // PollsByGroup queries polls based on group id.
  rpc PollsByGroup(QueryPollsByGroupRequest) returns (QueryPollsByGroupResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/group/polls";
  }

  // PollsByCreator queries polls by creator address.
  rpc PollsByCreator(QueryPollsByCreatorRequest) returns (QueryPollsByCreatorResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/creators/{creator}/polls";
  }

  // VoteForPollByPollVoter queries a vote by poll id and voter.
  rpc VoteForPollByPollVoter(QueryVoteForPollByPollVoterRequest) returns (QueryVoteForPollByPollVoterResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/polls/{poll_id}/votes/{voter}";
  }

  // VotesForPollByPoll queries votes by poll.
  rpc VotesForPollByPoll(QueryVotesForPollByPollRequest) returns (QueryVotesForPollByPollResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/polls/{poll_id}/votes";
  }

  // VotesForPollByVoter queries votes for poll by voter.
  rpc VotesForPollByVoter(QueryVotesForPollByVoterRequest) returns (QueryVotesForPollByVoterResponse) {
    option (google.api.http).get = "/regen/group/v1alpha1/voters/{voter}";
  }
}

// QueryGroupInfoRequest is the Query/GroupInfo request type.
message QueryGroupInfoRequest {
  
  // group_id is the unique ID of the group.
  uint64 group_id = 1;
}

// QueryGroupInfoResponse is the Query/GroupInfo response type.
message QueryGroupInfoResponse {

    // info is the GroupInfo for the group.
    GroupInfo info = 1;
}

// QueryGroupAccountInfoRequest is the Query/GroupAccountInfo request type.
message QueryGroupAccountInfoRequest {

  // address is the account address of the group account.
  string address = 1;
}

// QueryGroupAccountInfoResponse is the Query/GroupAccountInfo response type.
message QueryGroupAccountInfoResponse {

    // info is the GroupAccountInfo for the group account.
    GroupAccountInfo info = 1;
}

// QueryGroupMembersRequest is the Query/GroupMembersRequest request type.
message QueryGroupMembersRequest {

  // group_id is the unique ID of the group.
  uint64 group_id = 1;

  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryGroupMembersResponse is the Query/GroupMembersResponse response type.
message QueryGroupMembersResponse {

  // members are the members of the group with given group_id.
  repeated GroupMember members = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryGroupsByAdminRequest is the Query/GroupsByAdminRequest request type.
message QueryGroupsByAdminRequest {

  // admin is the account address of a group's admin.
  string admin = 1;

  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryGroupsByAdminResponse is the Query/GroupsByAdminResponse response type.
message QueryGroupsByAdminResponse {

  // groups are the groups info with the provided admin.
  repeated GroupInfo groups = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryGroupAccountsByGroupRequest is the Query/GroupAccountsByGroup request type.
message QueryGroupAccountsByGroupRequest {
  
  // group_id is the unique ID of the group account's group.
  uint64 group_id = 1;

  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryGroupAccountsByGroupResponse is the Query/GroupAccountsByGroup response type.
message QueryGroupAccountsByGroupResponse {

  // group_accounts are the group accounts info associated with the provided group.
  repeated GroupAccountInfo group_accounts = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryGroupAccountsByAdminRequest is the Query/GroupAccountsByAdmin request type.
message QueryGroupAccountsByAdminRequest {
  
  // admin is the admin address of the group account.
  string admin = 1;

  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryGroupAccountsByAdminResponse is the Query/GroupAccountsByAdmin response type.
message QueryGroupAccountsByAdminResponse {

  // group_accounts are the group accounts info with provided admin.
  repeated GroupAccountInfo group_accounts = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryProposalRequest is the Query/Proposal request type.
message QueryProposalRequest {

  // proposal_id is the unique ID of a proposal.
  uint64 proposal_id = 1;
}

// QueryProposalResponse is the Query/Proposal response type.
message QueryProposalResponse {

  // proposal is the proposal info.
  Proposal proposal = 1;
}

// QueryProposalsByGroupAccountRequest is the Query/ProposalByGroupAccount request type.
message QueryProposalsByGroupAccountRequest {

  // address is the group account address related to proposals.
  string address = 1;

  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryProposalsByGroupAccountResponse is the Query/ProposalByGroupAccount response type.
message QueryProposalsByGroupAccountResponse {

  // proposals are the proposals with given group account.
  repeated Proposal proposals = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryVoteByProposalVoterResponse is the Query/VoteByProposalVoter request type.
message QueryVoteByProposalVoterRequest {

  // proposal_id is the unique ID of a proposal.
  uint64 proposal_id = 1;
  
  // voter is a proposal voter account address.
  string voter = 2;
}

// QueryVoteByProposalVoterResponse is the Query/VoteByProposalVoter response type.
message QueryVoteByProposalVoterResponse {

  // vote is the vote with given proposal_id and voter.
  Vote vote = 1;
}

// QueryVotesByProposalResponse is the Query/VotesByProposal request type.
message QueryVotesByProposalRequest {

  // proposal_id is the unique ID of a proposal.
  uint64 proposal_id = 1;
  
  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryVotesByProposalResponse is the Query/VotesByProposal response type.
message QueryVotesByProposalResponse {

  // votes are the list of votes for given proposal_id.
  repeated Vote votes = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryVotesByVoterResponse is the Query/VotesByVoter request type.
message QueryVotesByVoterRequest {
  // voter is a proposal voter account address.
  string voter = 1;

  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryVotesByVoterResponse is the Query/VotesByVoter response type.
message QueryVotesByVoterResponse {

  // votes are the list of votes by given voter.
  repeated Vote votes = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryPollRequest is the Query/Poll request type.
message QueryPollRequest {

  // poll_id is the unique ID of a poll.
  uint64 poll_id = 1;
}

// QueryPollResponse is the Query/Poll response type.
message QueryPollResponse {

  // poll is the poll info.
  Poll poll = 1;
}

// QueryPollsByGroupRequest is the Query/PollByGroup request type.
message QueryPollsByGroupRequest {

  // group_id is the group id related to polls.
  uint64 group_id = 1;

  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryPollsByGroupResponse is the Query/PollByGroup response type.
message QueryPollsByGroupResponse {

  // polls are the polls with given group id.
  repeated Poll polls = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryPollsByCreatorRequest is the Query/PollByCreator request type.
message QueryPollsByCreatorRequest {

  // creator is the creator address related to polls.
  string creator = 1;

  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryPollsByCreatorResponse is the Query/PollsByCreator response type.
message QueryPollsByCreatorResponse {

  // polls are the polls with given creator.
  repeated Poll polls = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryVoteForPollByPollVoterRequest is the Query/VotePollByPollVoter request type.
message QueryVoteForPollByPollVoterRequest {

  // poll_id is the unique ID of a poll.
  uint64 poll_id = 1;

  // voter is a poll voter account address.
  string voter = 2;
}

// QueryVotesForPollByPollVoterResponse is the Query/VotePollByPollVoter response type.
message QueryVoteForPollByPollVoterResponse {

  // vote is the vote with given poll_id and voter.
  VotePoll vote = 1;
}

// QueryVotesForPollByPollRequest is the Query/VotePollsByPoll request type.
message QueryVotesForPollByPollRequest {

  // poll_id is the unique ID of a poll.
  uint64 poll_id = 1;

  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryVotesForPollByPollResponse is the Query/VotePollsByPoll response type.
message QueryVotesForPollByPollResponse {

  // votes are the list of votes for given poll_id.
  repeated VotePoll votes = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryVotesForPollByVoterRequest is the Query/VotePollsByVoter request type.
message QueryVotesForPollByVoterRequest {
  // voter is a poll voter account address.
  string voter = 1;

  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 2;
}

// QueryVotesForPollByVoterResponse is the Query/VotePollsByVoter response type.
message QueryVotesForPollByVoterResponse {

  // votes are the list of votes for poll by given voter.
  repeated VotePoll votes = 1;

  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}